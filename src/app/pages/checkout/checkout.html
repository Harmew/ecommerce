<div class="mx-auto max-w-[1200px] py-6">
  <app-back-button class="mb-6" label="Back to Card" navigateTo="/cart" />

  <h1 class="text-2xl font-bold text-gray-900 mb-6">Checkout</h1>

  <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
    <div class="lg:col-span-3 flex flex-col gap-6">
      <app-shipping-form />
      <app-payment-form />
    </div>
    <div class="lg:col-span-2">
      <app-summarize-order>
        <ng-container checkoutItems>
          @for (item of cartItems(); track item.product.id) {
            <div class="text-sm flex justify-between">
              <span>{{ item.product.name }} x{{ item.quantity }}</span>
              <span>{{ item.product.price * item.quantity | currency }}</span>
            </div>
          }
        </ng-container>

        <ng-container actionButtons>
          <button
            matButton="filled"
            class="w-full mt-6 py-3"
            [disabled]="loadingCheckout() || cartItems().length === 0"
            (click)="placeOrder()"
          >
            {{ loadingCheckout() ? 'Processing...' : 'Place Order' }}
          </button>
        </ng-container>
      </app-summarize-order>
    </div>
  </div>
</div>
