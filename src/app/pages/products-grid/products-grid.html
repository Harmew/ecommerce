<mat-sidenav-container class="h-full">
  <!-- Sidebar -->
  <mat-sidenav mode="side" [opened]="sidenavExpanded()">
    <div class="p-6">
      <h2 class="text-lg text-gray-900">Categories</h2>
      <mat-nav-list>
        @for (cat of categories(); track cat) {
          <mat-list-item
            class="my-2"
            [activated]="cat === category()"
            [routerLink]="['/products', cat]"
          >
            <span
              matListItemTitle
              class="font-medium"
              [class]="cat === category() ? 'text-white!' : null"
            >
              {{ cat | titlecase }}
            </span>
          </mat-list-item>
        }
      </mat-nav-list>
    </div>
  </mat-sidenav>
  <!-- Content -->
  <mat-sidenav-content class="bg-white p-6">
    <div class="flex items-center justify-between mb-6">
      <div class="flex items-center gap-2">
        <button (click)="toggleSidenav()" matIconButton class="transition">
          <mat-icon fontIcon="menu" />
        </button>
        <h1 class="text-2xl font-bold text-gray-900">{{ category() | titlecase }}</h1>
      </div>
      <p class="text-base text-gray-600 mt-1">{{ filteredProducts().length }} products found</p>
    </div>
    <div class="responsive-grid">
      @for (product of filteredProducts(); track product.id) {
        <app-product-card [product]="product">
          <app-toggle-wishlist-button
            [product]="product"
            class="absolute! z-10 top-3 right-3 bg-white! shadow-md rounded-md transition-all duration-200 hover:scale-110 hover:shadow-lg"
            [style.view-transition-name]="'wishlist-button-' + product.id"
          />
        </app-product-card>
      }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
